{% extends "base.html" %}

{% block title %}Workout Details - Vitruvian Tracker{% endblock %}

{% block content %}
<!-- Dashboard Navbar -->
{% include 'components/navbar_auth.html' %}

<!-- Flash Messages -->
<div class="container mt-3">
    {% include 'components/flash_messages.html' %}
</div>

<!-- Workout Detail Content -->
<div class="page-container">
    <div class="page-header">
        <div class="page-title-section">
            <a href="/workout/workouts" class="back-link">
                <i class="bi bi-arrow-left"></i> Back to Workouts
            </a>
            <h1 class="page-title" id="workout-title">
                <i class="bi bi-fire"></i> Workout Details
            </h1>
            <div class="workout-metadata">
                <span class="metadata-item" id="workout-date">--</span>
                <span class="metadata-separator">•</span>
                <span class="metadata-item" id="workout-duration">--</span>
                <span class="metadata-separator">•</span>
                <span class="badge" id="workout-type-badge">--</span>
            </div>
        </div>
        <div class="page-actions">
            <button class="btn btn-outline-secondary" id="edit-workout-btn">
                <i class="bi bi-pencil"></i> Edit
            </button>
            <button class="btn btn-outline-danger" id="delete-workout-btn">
                <i class="bi bi-trash"></i> Delete
            </button>
        </div>
    </div>

    <!-- Workout Summary -->
    <div class="workout-summary-section">
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-label">Total Volume</div>
                <div class="summary-value" id="workout-volume">--</div>
                <div class="summary-unit">lbs</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Total Sets</div>
                <div class="summary-value" id="workout-sets">--</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Total Reps</div>
                <div class="summary-value" id="workout-reps">--</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Exercises</div>
                <div class="summary-value" id="workout-exercises">--</div>
            </div>
        </div>
    </div>

    <!-- Workout Notes -->
    <div class="workout-notes" id="workout-notes-section" style="display: none;">
        <h3 class="section-subtitle">Notes</h3>
        <div class="notes-content" id="workout-notes"></div>
    </div>

    <!-- Exercise Logs -->
    <div class="exercise-logs-section">
        <h3 class="section-subtitle">Exercise Log</h3>
        <div id="exercise-logs-container">
            <!-- Loading State -->
            <div class="text-center py-4">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance Comparison -->
    <div class="performance-comparison">
        <h3 class="section-subtitle">Performance Comparison</h3>
        <p class="section-description">Compare this workout with your previous sessions</p>
        <div id="comparison-container">
            <div class="text-center py-4">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading comparison...</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
{% from 'components/modal.html' import delete_modal %}
{{ delete_modal('deleteWorkoutModal') }}

{% endblock %}

{% block scripts %}
<script src="/static/js/common.js"></script>
<script src="/static/js/workout-detail.js"></script>
{% endblock %}
