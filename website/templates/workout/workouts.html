{% extends "base.html" %}

{% block title %}Workouts - Vitruvian Tracker{% endblock %}

{% block content %}
<!-- Dashboard Navbar -->
{% include 'components/navbar_auth.html' %}

<!-- Flash Messages -->
<div class="container mt-3">
    {% include 'components/flash_messages.html' %}
</div>

<!-- Workouts Content -->
<div class="page-container">
    <div class="page-header">
        <div class="page-title-section">
            <h1 class="page-title">
                <i class="bi bi-fire"></i> Workouts
            </h1>
            <p class="page-subtitle">Track your training sessions and progress</p>
        </div>
        <div class="page-actions">
            <a href="/workout/exercise-library" class="btn btn-outline-primary">
                <i class="bi bi-book"></i> Exercise Library
            </a>
            <a href="/workout/new" class="btn btn-primary">
                <i class="bi bi-plus-circle"></i> Start Workout
            </a>
        </div>
    </div>

    <!-- Filters -->
    <div class="filters-section">
        <div class="filters-row">
            <div class="filter-group">
                <label for="date-range-filter" class="filter-label">Date Range</label>
                <select id="date-range-filter" class="form-select filter-select">
                    <option value="7">Last 7 Days</option>
                    <option value="30" selected>Last 30 Days</option>
                    <option value="90">Last 90 Days</option>
                    <option value="all">All Time</option>
                </select>
            </div>
            <div class="filter-group">
                <label for="workout-type-filter" class="filter-label">Workout Type</label>
                <select id="workout-type-filter" class="form-select filter-select">
                    <option value="all">All Types</option>
                    <option value="strength">Strength</option>
                    <option value="cardio">Cardio</option>
                    <option value="flexibility">Flexibility</option>
                    <option value="mixed">Mixed</option>
                </select>
            </div>
            <div class="filter-group">
                <input type="text" id="search-workouts" class="form-control filter-input"
                       placeholder="Search workouts...">
            </div>
        </div>
    </div>

    <!-- Summary Stats -->
    <div class="workouts-summary">
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-label">Total Workouts</div>
                <div class="summary-value" id="total-workouts">--</div>
                <div class="summary-detail" id="workouts-timeframe">--</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Total Volume</div>
                <div class="summary-value" id="total-volume">--</div>
                <div class="summary-unit">lbs</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Training Time</div>
                <div class="summary-value" id="total-time">--</div>
                <div class="summary-unit">mins</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Avg. Session</div>
                <div class="summary-value" id="avg-duration">--</div>
                <div class="summary-unit">mins</div>
            </div>
        </div>
    </div>

    <!-- Workouts List -->
    <div class="workouts-list" id="workouts-list">
        <!-- Loading State -->
        <div class="text-center py-5">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <div id="pagination-container"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/common.js"></script>
<script src="/static/js/workout.js"></script>
{% endblock %}
